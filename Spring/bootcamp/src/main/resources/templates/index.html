<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="author" content="Alvaro Castillo">
        <meta name="description" content="">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">
        <title>Sistema de Estudiantes</title>
    </head>
    <body>
		<div class="container p-2">
		
			<form th:action="@{/buscar}" method="POST" class="mb-5">
				<div class="row">
					<div class="col">
						<label>Region</label>
						<select name="codigo_region" id="region" class="form-select">
							<option th:value="0">Elija una Region</option>
							<option th:each="region : ${regiones}"
									th:text="${region.nombre}"
									th:value="${region.codigo_region}">
							</option>
						</select>
					</div>
					<div class="col">
						<label>Curso</label>
						<select name="codigo_curso" id="curso" class="form-select">
							<option th:value="0">Elija un Curso</option>
							<option th:each="curso: ${cursos}"
									th:text="${curso.codigo_curso}"
									th:value="${curso.codigo_curso}">
							</option>
						</select>
					</div>
					<div class="col d-grid gap-2">
						<button type="submit" class="btn btn-primary">Filtrar</button>
					</div>
				</div>
			</form>
			<table class="table table-hover text-left mt-5">
				<thead>
					<tr>
						<th>Rut</th>
						<th>Nombre</th>
						<th>Apellido Paterno</th>
						<th>Apellido Materno</th>
						<th>Codigo Curso</th>
						<th>Descripcion Curso</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="estudiante: ${estudiantes}">
						<td th:text="${estudiante.rut}"></td>
						<td th:text="${estudiante.nombre}"></td>
						<td th:text="${estudiante.apellido_pat}"></td>
						<td th:text="${estudiante.apellido_mat}"></td>
						<td th:text="${estudiante.curso.codigo_curso}"></td>
						<td th:text="${estudiante.curso.plan_formativo.descripcion}"></td>
					</tr>
				</tbody>
			</table>
		
		</div>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

    </body>
</html>